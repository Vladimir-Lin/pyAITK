# -*- coding: utf-8 -*-
##############################################################################
## TableDock
##############################################################################
import os
import sys
import getopt
import time
import requests
import threading
import gettext
import json
##############################################################################
import PySide6
from   PySide6               import QtCore
from   PySide6               import QtGui
from   PySide6               import QtWidgets
##############################################################################
from   PySide6 . QtCore      import *
from   PySide6 . QtGui       import *
from   PySide6 . QtWidgets   import *
##############################################################################
from           . MenuManager import MenuManager as MenuManager
from           . TableWidget import TableWidget as TableWidget
from           . AttachDock  import AttachDock  as AttachDock
from           . LineEdit    import LineEdit    as LineEdit
from           . ComboBox    import ComboBox    as ComboBox
from           . SpinBox     import SpinBox     as SpinBox
##############################################################################
class TableDock        ( TableWidget , AttachDock                          ) :
  ############################################################################
  attachNone  = Signal ( QWidget                                             )
  attachDock  = Signal ( QWidget , str , int , int                           )
  attachMdi   = Signal ( QWidget , int                                       )
  emitRestart = Signal (                                                     )
  ############################################################################
  def __init__         ( self , parent = None , plan = None                ) :
    ##########################################################################
    super (                   ) . __init__ ( parent , plan                   )
    super ( AttachDock , self ) . __init__ (                                 )
    self . InitializeDock                  (          plan                   )
    ##########################################################################
    ## WidgetClass                                                       ;
    ##########################################################################
    self . ClassTag           = ""
    self . LoopRunning        = True
    self . FetchTableKey      = "Tables"
    ##########################################################################
    self . dockingOrientation = 0
    self . dockingPlace       = None
    self . dockingPlaces      = None
    ## dockingPlace       ( Qt::RightDockWidgetArea     )
    ## dockingPlaces      ( Qt::TopDockWidgetArea       |
    ##                      Qt::BottomDockWidgetArea    |
    ##                      Qt::LeftDockWidgetArea      |
    ##                      Qt::RightDockWidgetArea     )
    ##########################################################################
    self . emitRestart . connect   ( self . restart                          )
    ##########################################################################
    self . setAlternatingRowColors ( True                                    )
    ##########################################################################
    return
  ############################################################################
  ############################################################################
  ############################################################################
  ############################################################################
  ############################################################################
  ############################################################################
  ############################################################################
  def restart      ( self                                                  ) :
    ##########################################################################
    self . clear   (                                                         )
    self . startup (                                                         )
    ##########################################################################
    return
  ############################################################################
  ############################################################################
  ############################################################################
  ############################################################################
  def AppendRefreshAction    ( self , mm , Id                              ) :
    ##########################################################################
    TRX  = self . Translations
    msg  = TRX               [ "UI::Refresh"                                 ]
    icon = QIcon             ( ":/images/reload.png"                         )
    mm   . addActionWithIcon ( Id , icon , msg                               )
    ##########################################################################
    return mm
  ############################################################################
  def AppendInsertAction     ( self , mm , Id                              ) :
    ##########################################################################
    TRX  = self . Translations
    msg  = TRX               [ "UI::Insert"                                  ]
    icon = QIcon             ( ":/images/plus.png"                           )
    mm   . addActionWithIcon ( Id , icon , msg                               )
    ##########################################################################
    return mm
  ############################################################################
  def AppendDeleteAction     ( self , mm , Id                              ) :
    ##########################################################################
    TRX  = self . Translations
    msg  = TRX               [ "UI::Delete"                                  ]
    icon = QIcon             ( ":/images/delete.png"                         )
    mm   . addActionWithIcon ( Id , icon , msg                               )
    ##########################################################################
    return mm
  ############################################################################
  ############################################################################
  ############################################################################
  ############################################################################
  ############################################################################
  ############################################################################
##############################################################################
