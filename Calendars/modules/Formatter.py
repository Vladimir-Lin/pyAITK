# -*- coding: utf-8 -*-
##############################################################################
## 曆法格式器
##############################################################################
## import time
## import datetime
## import pytz
##############################################################################
class Formatter    (                                                       ) :
  ############################################################################
  def __init__     ( self                                                  ) :
    return
  ############################################################################
  def __del__      ( self                                                  ) :
    return
  ############################################################################
  def toHours    ( self , seconds                                          ) :
    ##########################################################################
    try                                                                      :
      ########################################################################
      HOUR = int ( seconds / 3600                                            )
      ########################################################################
    except                                                                   :
      return 0
    ##########################################################################
    return HOUR
  ############################################################################
  def toMinutes  ( self , seconds ) :
    ##########################################################################
    try                                                                      :
      ########################################################################
      HOUR = int ( seconds / 3600                                            )
      SECS = int ( seconds - ( HOUR * 3600 )                                 )
      MINS = int ( SECS    /  60                                             )
      ########################################################################
    except                                                                   :
      return 0
    ##########################################################################
    return MINS
  ############################################################################
  def toSeconds  ( self , seconds                                          ) :
    ##########################################################################
    try                                                                      :
      SECS = int ( seconds % 60                                              )
    except                                                                   :
      return 0
    ##########################################################################
    return SECS
  ############################################################################
  def toTwoDigit ( self , value                                            ) :
    ##########################################################################
    if           ( value <= 0                                              ) :
      return "00"
    ##########################################################################
    if           ( value > 9                                               ) :
      return f"{value}"
    ##########################################################################
    return   f"0{value}"
  ############################################################################
  def toHMS                ( self , inputString , seconds                  ) :
    ##########################################################################
    V   = inputString
    ##########################################################################
    if                     ( "%H" in V                                     ) :
      ########################################################################
      H = self . toHours   ( seconds                                         )
      V = V    . replace   ( "%H" , self . toTwoDigit ( H )                  )
    ##########################################################################
    if                     ( "%M" in V                                     ) :
      ########################################################################
      M = self . toMinutes ( seconds                                         )
      V = V    . replace   ( "%M" , self . toTwoDigit ( M )                  )
    ##########################################################################
    if                     ( "%S" in V                                     ) :
      ########################################################################
      S = self . toSeconds ( seconds                                         )
      V = V    . replace   ( "%S" , self . toTwoDigit ( S )                  )
    ##########################################################################
    return V
  ############################################################################
  def toRemainDigits  ( self , day , digits                                ) :
    ##########################################################################
    if                ( digits <= 0                                        ) :
      ########################################################################
      S = f"{day}"
      S = S . replace ( "0." , ""                                            )
      ########################################################################
      return S
    ##########################################################################
    V   = day
    ##########################################################################
    for i in range    ( 0 , digits                                         ) :
      ########################################################################
      V = V * 10
    ##########################################################################
    D   = int         ( V                                                    )
    S   = f"{D}"
    ##########################################################################
    return S . zfill  ( digits                                               )
  ############################################################################
  def DoRemainDay                      ( self , inputString , day          ) :
    ##########################################################################
    V          = inputString
    LEN        = len                   ( V                                   )
    KEY        = "%D"
    ##########################################################################
    if                                 ( KEY not in V                      ) :
      return V
    ##########################################################################
    DIGITs     = 0
    ##########################################################################
    BracketAt  = V         . index     ( KEY                                 )
    BracketAt  = BracketAt + len       ( KEY                                 )
    ##########################################################################
    if ( ( BracketAt < LEN ) and ( V [ BracketAt ] == "(" ) )                :
      ########################################################################
      try                                                                    :
        ######################################################################
        EAT    = V    . index          ( ")" , BracketAt                     )
        DSTR   = V                     [ BracketAt + 1 : EAT                 ]
        DIGITs = int                   ( DSTR                                )
        KEY    = f"{KEY}({DSTR})"
        ######################################################################
      except                                                                 :
        pass
    ##########################################################################
    S          = self . toRemainDigits ( day , DIGITs                        )
    ##########################################################################
    V          = V    . replace        ( KEY , S                             )
    ##########################################################################
    return V
  ############################################################################
  def toRemainDay            ( self , inputString , day                    ) :
    ##########################################################################
    V   = inputString
    ##########################################################################
    while                    ( "%D" in V                                   ) :
      V = self . DoRemainDay ( V , day                                       )
    ##########################################################################
    return V
  ############################################################################
  def Keywords                ( self                                       ) :
    raise NotImplementedError (                                              )
  ############################################################################
  def toString                ( self , Calendar , Format                   ) :
    raise NotImplementedError (                                              )
##############################################################################
