# -*- coding: utf-8 -*-
##############################################################################
## VcfCursor
## 文字游標
##############################################################################
import os
import sys
import getopt
import time
import requests
import threading
import gettext
import json
##############################################################################
import PySide6
from   PySide6                import QtCore
from   PySide6                import QtGui
from   PySide6                import QtWidgets
##############################################################################
from   PySide6 . QtCore       import *
from   PySide6 . QtGui        import *
from   PySide6 . QtWidgets    import *
##############################################################################
from           . VcfRectangle import VcfRectangle as VcfRectangle
##############################################################################
class VcfCursor                 ( VcfRectangle                             ) :
  ############################################################################
  def __init__                  ( self                                     , \
                                  parent = None                            , \
                                  item   = None                            , \
                                  plan   = None                            ) :
    ##########################################################################
    super ( ) . __init__        ( parent , item , plan                       )
    self . setVcfCursorDefaults (                                            )
    ##########################################################################
    return
  ############################################################################
  def __del__           ( self                                             ) :
    ##########################################################################
    self . Timer . stop (                                                    )
    ##########################################################################
    return
  ############################################################################
  def setVcfCursorDefaults    ( self                                       ) :
    ##########################################################################
    self . Timer     = QTimer ( self . Gui                                   )
    self . Showing   = False
    self . Printable = False
    ##########################################################################
    self . Painter . addMap   ( "Default" , 0                                )
    self . Painter . addPen   ( 0 , QColor (   0 ,   0 , 255 )               )
    self . Painter . addBrush ( 0 , QColor ( 224 , 224 , 224 )               )
    ##########################################################################
    self . setFlag            ( QGraphicsItem . ItemIsSelectable , False     )
    self . setFlag            ( QGraphicsItem . ItemIsFocusable  , False     )
    ##########################################################################
    self . Timer . timeout . connect ( self . Twinkling                      )
    self . Timer . setInterval       ( 1000                                  )
    ##########################################################################
    return
  ############################################################################
  def setInterval              ( self , milliseconds                       ) :
    ##########################################################################
    self . Timer . setInterval (        milliseconds                         )
    ##########################################################################
    return
  ############################################################################
  def Start              ( self                                            ) :
    ##########################################################################
    self . Timer . start (                                                   )
    ##########################################################################
    return
  ############################################################################
  def Twinkling   ( self                                                   ) :
    ##########################################################################
    self . update (                                                          )
    ##########################################################################
    return
  ############################################################################
  def Painting                    ( self , p , region , clip , color       ) :
    ##########################################################################
    self . pushPainters           ( p                                        )
    ##########################################################################
    if                            ( self . Showing                         ) :
      ########################################################################
      self . Painter . setPainter ( p , "Default"                            )
      p    . drawRect             ( self . ScreenRect                        )
      ########################################################################
      self . Showing = False
      ########################################################################
    else                                                                     :
      ########################################################################
      self . Showing = True
    ##########################################################################
    self . popPainters            ( p                                        )
    ##########################################################################
    return
##############################################################################
